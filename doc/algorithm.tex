%
% Pseudocode for my K-Diverse Short Paths algorithm
%
\documentclass[letterpaper,12pt]{article}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{amssymb}
\usepackage{caption}

\renewcommand\algorithmiccomment[1]{
  \hfill// {#1}
}
\DeclareCaptionFormat{algor}{
  \hrulefill\par\offinterlineskip\vskip1pt
    \textbf{#1#2}#3\offinterlineskip\hrulefill}
\DeclareCaptionStyle{algori}{singlelinecheck=off,format=algor,labelsep=space}
\captionsetup[algorithm]{style=algori}

\begin{document}

\captionof{algorithm}{Diverse Short Paths}
\hangindent=20pt\hspace*{20pt}\textbf{KDiverseShort}$(G,s,g,k,b,\rho)$
\\*\textbf{input:} A graph $G=(V,E)$ embedded in a space $\mathcal{C}$ with\
distance metric $d_1:\mathcal{C}\times \mathcal{C}\to\mathbb{R}$; start and\
goal vertices $s,g\in V$; number of paths requested, $k\ge0$; branching factor\
$b\ge1$; ball radius $\rho>0$.
\\*\textbf{output:} At most $k$ diverse, short paths in $G$ from $s$ to $g$.
\begin{algorithmic}[1]
\State $U\gets EmptyQueue$
\State $p\gets \Call{ShortestPath}{G,s,g}$\Comment{Returns a path $p$ in $\mathcal{C}$}
\If{$p\textbf{ not empty}$}
    \State $U.enqueue((p,\varnothing))$
\EndIf
\State $S\gets\varnothing$
\While{$\left\vert{S}\right\vert<k\textbf{ and }U\textbf{ not empty}$}
    \State $(p,A)\gets U.dequeue()$
    \State $S\gets S\cup\left\{p\right\}$
    \For{$i\gets 1, b$}
        \State $\mathbf{c}\gets \Call{SampleUniform}{p}$\Comment{Returns a point $\mathbf{c}$ along $p$}
        \State $A'\gets A\cup\left\{\mathbf{x}\in \mathcal{C}:d_1(\mathbf{x},\mathbf{c})<\rho\right\}$
        \State $E'\gets\left\{{e\in E:e\cap A'=\varnothing}\right\}$
        \State $p'\gets \Call{ShortestPath}{G'=(V,E'),s,g}$
        \If{$p'\textbf{ not empty}$}
            \State $U.enqueue((p',A'))$
        \EndIf
    \EndFor
\EndWhile
\State \textbf{return }$S$
\end{algorithmic}

\begin{algorithm}
\caption{Path Set Diversity}
\small \textbf
\\\hangindent=20pt\textbf{Diversity}$(S)$
\\*\textbf{input:} A finite subset $S\subset \mathcal{P}$, where $\mathcal{P}$\
is the space of paths in $\mathcal{C}$, having distance metric\
$d_2:\mathcal{P}\times\mathcal{P}\to\mathbb{R}$.
\\*\textbf{output:} The diversity of the paths in $S$.
\begin{algorithmic}[1]
\State $\delta\gets \infty$
\ForAll{$p_1\in S$}
    \ForAll{$p_2\in S\setminus\left\{p_1\right\}$}
        \State $\delta\gets min(\delta,d_2(p_1,p_2))$
    \EndFor
\EndFor
\State \textbf{return }$\delta$
\end{algorithmic}
\end{algorithm}

\end{document}
